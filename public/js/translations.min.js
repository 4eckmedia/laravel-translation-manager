function swapInClass(t,e,n){"use strict";return t.removeClass(n).addClass(e)}function swapOutClass(t,e,n){"use strict";return t.removeClass(e).addClass(n)}function swapClass(t,e,n,i){"use strict";return e?swapInClass(t,n,i):swapOutClass(t,n,i)}var translate,CLIP_TEXT,MISSMATCHED_QUOTES_MESSAGE,YANDEX_TRANSLATOR_KEY,PRIMARY_LOCALE,CURRENT_LOCALE,TRANSLATING_LOCALE;String.prototype.toCapitalCase=function(){"use strict";return this.replace(/(?:^|\s)\S/g,function(t){return t.toUpperCase()})},String.prototype.toLocaleCapitalCase=function(){"use strict";return this.replace(/(?:^|\s)\S/g,function(t){return t.toLocaleUpperCase()})},$(document).ready(function(){"use strict";function t(t){for(var e=/\b(href=|src=)\s*("|')?([^"'>]*)("|')?/,n=/:string/g,i=MISSMATCHED_QUOTES_MESSAGE||"mismatched or missing quotes in :string attribute",s=[],a=0,l,o,r=t,c=t.length,u;(c>a&&-1!==(l=r.indexOf("href=",a))||-1!==(l=r.indexOf("src=",a)))&&(a=l,r=r.substr(a>0?a-1:0),o=r.match(e));)(void 0===o[2]||o[2]!==o[4])&&s.push(i.replace(n,o[0])),a+=o[0].length;return s.length?(u=$(".editableform .editable-error-block"),u.length&&window.setTimeout(function(){u.html(r)},50),r="<ul><li>"+s.join("</li><li>")+"</li></ul>"," "):void 0}function e(t){var e;if(void 0!==document.selection){t.focus();var n=document.selection.createRange();return e=n.text}if(void 0!==t.selectionStart){var i=t.selectionStart,s=t.selectionEnd;return e=t.value.substring(i,s)}}function n(t,e,n){return 0===e.toLocaleLowerCase().indexOf(n)&&0!==t.toLocaleLowerCase().indexOf(n)}function i(t){var e,i,s=t.indexOf(" ");return-1!==s&&(e=t.substr(0,s),i=t.substr(s+1),t=n(e,i,"од")||n(e,i,"дв")||n(e,i,"пя")?e:i),t}function s(t,e){return t.length>e?i(t[e]):""}var a;translate=function(t,e,n,i){var s=200,a=401,l=402,o=403,r=404,c=413,u=422,d=501,b={200:"Operation completed successfully.",401:"Invalid API key.",402:"This API key has been blocked.",403:"You have reached the daily limit for requests (including calls of the detect method).",404:"You have reached the daily limit for the volume of translated text (including calls of the detect method).",413:"The text size exceeds the maximum.",422:"The text could not be translated.",501:"The specified translation direction is not supported."},p=$.getJSON("https://translate.yandex.net/api/v1.5/tr.json/translate",{key:YANDEX_TRANSLATOR_KEY,lang:t+"-"+n,text:e},function(t){var e={code:200,lang:"en-ru",text:["Быть или не быть?","Вот в чем вопрос."]};t.code===s?i(t.text.join("\n")):window.console.log("Yandex API: "+t.code+": "+b[t.code]+"\n")});p.done(function(){}),p.fail(function(){})},$.fn.editableContainer.defaults.placement="top",$.fn.editableContainer.defaults.onblur="submit",$.fn.editableContainer.defaults.validate=function(e){return t(e)},$.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-buttons"></div><br><br><div id="x-trans-edit" class="editable-input"></div></div><div class="editable-error-block"></div></div></form>',$.fn.editableform.buttons='<button type="submit" class="editable-submit btn btn-sm btn-success"><i class="glyphicon glyphicon-ok"></i></button>&nbsp;<button type="button" class="editable-cancel btn btn-sm btn-danger"><i class="glyphicon glyphicon-remove"></i></button>&nbsp;&nbsp;<button id="x-translate" type="button" class="editable-translate btn btn-sm btn-warning hidden"><i class="glyphicon glyphicon-share-alt"></i></button><button id="x-nodash" type="button" class="editable-translate btn btn-sm btn-warning hidden">❉ <i class="glyphicon glyphicon-share-alt"></i> Ab</button>&nbsp;&nbsp;<button id="x-plurals" type="button" class="editable-translate btn btn-sm btn-warning hidden">|</i></button>&nbsp;&nbsp;<button id="x-capitalize" type="button" class="editable-translate btn btn-sm btn-info">ab <i class="glyphicon glyphicon-share-alt"></i> Ab</button><button id="x-lowercase" type="button" class="editable-translate btn btn-sm btn-info">AB <i class="glyphicon glyphicon-share-alt"></i> ab</button>&nbsp;&nbsp;<button id="x-copy" type="button" class="editable-translate btn btn-sm btn-primary"><i class="glyphicon glyphicon-copy"></i></button><button id="x-paste" type="button" class="editable-translate btn btn-sm btn-primary"><i class="glyphicon glyphicon-paste"></i></button>&nbsp;&nbsp;<button id="x-reset-open" type="button" class="editable-translate btn btn-sm btn-success"><i class="glyphicon glyphicon-open"></i></button><button id="x-reset-saved" type="button" class="editable-translate btn btn-sm btn-success"><i class="glyphicon glyphicon-floppy-open"></i></button>';var l,o,r,c,u,d=0,b=function(t,e,n,i,a){return function(){var l,o,r,c,u=e;-1!==(l=e.indexOf("|"))&&(o=e.substr(0,l),r=e.substr(l+1),u="one "+o+"\ntwo "+r+"\nfive "+r,c=!0),translate(t,u,n,function(t){var e,l,o,r,u=t;if(c){var d=t.replace(/$\s*/gm,"|");"|"===d.substr(d.length-1,1)&&(d=d.substr(0,d.length-1)),a.html(d),a.css("display","block"),r=u.split("\n",3),e=s(r,0),l=s(r,1),"ru"===n?(o=s(r,2),u=e+"|"+l+"|"+o):u=e+"|"+l}i.val(u),i.focus()})}},p=function(t,n,i){return function(){var s=e(t[0]);s?t.selection("replace",{text:n.apply(s,i)}):t.val(n.apply(t.val(),i)),t.focus()}},f=function(t,n,i){return function(){var s=e(t[0]);if(s)t.selection("replace",{text:n.apply(s,i)});else{var a;-1!==t.val().indexOf("|")?(a=t.val().split("|"),a.forEach(function(t,e,s){s[e]=n.apply(t,i)}),t.val(a.join("|"))):t.val(n.apply(t.val(),i))}t.focus()}},h=function(t,e,n){return function(){t.val(e.apply(t.val(),n)),t.focus()}};$.fn.vsch_editable=function(t){var e={},n=$.extend({},e,t);this.each(function(){var t=$(this);t.offset().top<300?t.editable({placement:"bottom"}):t.editable({placement:"top"}),t.editable().on("hidden",function(t,e){var n=$(this).data("locale");"save"===e&&$(this).removeClass("status-0").addClass("status-1"),--d||$(".editing").removeClass("editing")}),t.editable().on("shown",function(t,e){var n,i,s,a,g,v,m,y,C,x,A,L,E,_=$(this).data("saved_value"),O,T=$(this).attr("id"),R=/-|_/g,S;r=$(this).data("locale"),o=r===PRIMARY_LOCALE?"":PRIMARY_LOCALE,d++,i=o+T.substr(r.length),n=T.substr(r.length+1),u=$("tr#"+n.replace(/\./,"-")).first(),S=n.replace(R," ").toCapitalCase();var w=$(this).find("+ div.editable-container");c=w.find("#x-trans-edit").first().find("textarea.editable-input").first(),s=w.find(".editable-error-block").first(),a=w.find("#x-translate").first(),g=w.find("#x-capitalize").first(),v=w.find("#x-lowercase").first(),m=w.find("#x-nodash").first(),y=w.find("#x-copy").first(),C=w.find("#x-paste").first(),x=w.find("#x-reset-open").first(),A=w.find("#x-reset-saved").first(),L=w.find("#x-plurals").first(),O=c.val().trim(),c.val(O),u.length&&($(".editing").removeClass("editing"),u.addClass("editing")),a.length&&c.length&&""!==YANDEX_TRANSLATOR_KEY&&""!==o&&(E=u.find("#"+i.replace(/\./,"-")).first(),E.length&&(l=E.text(),a.html(o+' <i class="glyphicon glyphicon-share-alt"></i> '+r),a.removeClass("hidden"),a.on("click",b(o,l,r,c,s)))),m.length&&r===PRIMARY_LOCALE&&(m.removeClass("hidden"),m.on("click",h(c,function(){return S}))),g.length&&g.on("click",f(c,String.prototype.toLocaleCapitalCase)),v.length&&v.on("click",p(c,String.prototype.toLocaleLowerCase)),y.length&&y.on("click",p(c,function(){return CLIP_TEXT=this,this})),C.length&&C.on("click",p(c,function(){return CLIP_TEXT})),x.length&&x.on("click",h(c,function(){return O})),A.length&&A.on("click",h(c,function(){return _})),L.length&&(r===PRIMARY_LOCALE||""!==YANDEX_TRANSLATOR_KEY)&&(L.removeClass("hidden"),L.on("click",h(c,function(){var t=this;if(-1===t.indexOf("|")){switch(r){case"ru":t=this+"|"+this+"|"+this;break;case"en":t="en"===PRIMARY_LOCALE?S.singularize()+"|"+S.pluralize():t.singularize()+"|"+t.pluralize();break;default:t=this+"|"+this}return t.toLocaleLowerCase()}return t})))})})},$(".vsch_editable").vsch_editable()});